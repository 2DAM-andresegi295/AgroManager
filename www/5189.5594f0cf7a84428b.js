"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5189],{1339:(V,k,c)=>{c.d(k,{u:()=>w});var l=c(467),s=c(3273),y=c(6710),S=c(4412),U=c(3026),O=c(9498),C=c(9602);let w=(()=>{var E;class d{constructor(u,p,_){this.auth=u,this.router=p,this.firestore=_,this.usuarioActual=new S.t(null),this.usuario$=this.usuarioActual.asObservable(),(0,y.hg)(this.auth,v=>{this.usuarioActual.next(v)})}login(u,p){var _=this;return(0,l.A)(function*(){try{return yield(0,y.x9)(_.auth,u,p)}catch(v){throw v}})()}registrar(u,p){var _=this;return(0,l.A)(function*(){try{return yield(0,y.eJ)(_.auth,u,p)}catch(v){throw v}})()}isAdmin(){var u=this;return(0,l.A)(function*(){const p=u.auth.currentUser;if(!p)return!1;const _=(0,U.rJ)(u.firestore,"administradores"),v=(0,s.P)(_,(0,s._M)("uid","==",p.uid));return(yield(0,s.GG)(v)).size>0})()}}return(E=d).\u0275fac=function(u){return new(u||E)(O.KVO(y.Nj),O.KVO(C.t),O.KVO(U._7))},E.\u0275prov=O.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),d})()},4033:(V,k,c)=>{c.d(k,{z:()=>O});var l=c(467),s=c(3273),y=c(9498),S=c(3026),U=c(1339);let O=(()=>{var C;class w{constructor(d,h){this.firestore=d,this.authService=h}addParcela(d){var h=this;return(0,l.A)(function*(){if(yield new Promise(p=>{const _=h.authService.usuario$.subscribe(v=>{v&&(p(v),_.unsubscribe())})})){const p=(0,s.rJ)(h.firestore,"parcelas");return(0,s.gS)(p,d)}throw new Error("Usuario no autenticado")})()}getParcelasPorUsuario(d){var h=this;return(0,l.A)(function*(){if(yield new Promise(p=>{const _=h.authService.usuario$.subscribe(v=>{v&&(p(v),_.unsubscribe())})})){const p=(0,s.rJ)(h.firestore,"parcelas"),_=(0,s.P)(p,(0,s._M)("idUsuario","==",d));return(yield(0,s.GG)(_)).docs.map(x=>({id:x.id,...x.data()}))}throw new Error("Usuario no autenticado")})()}getTodasLasParcelas(){var d=this;return(0,l.A)(function*(){if(yield new Promise(u=>{const p=d.authService.usuario$.subscribe(_=>{_&&(u(_),p.unsubscribe())})})){const u=(0,s.rJ)(d.firestore,"parcelas");return(yield(0,s.GG)(u)).docs.map(v=>({id:v.id,...v.data()}))}throw new Error("Usuario no autenticado")})()}deleteParcela(d){var h=this;return(0,l.A)(function*(){const u=(0,s.H9)(h.firestore,"parcelas",d);return(0,s.kd)(u)})()}deleteParcelasPorUsuario(d){var h=this;return(0,l.A)(function*(){if(yield new Promise(p=>{const _=h.authService.usuario$.subscribe(v=>{v&&(p(v),_.unsubscribe())})})){const p=(0,s.rJ)(h.firestore,"parcelas"),_=(0,s.P)(p,(0,s._M)("idUsuario","==",d)),F=(yield(0,s.GG)(_)).docs.map(x=>(0,s.kd)((0,s.H9)(h.firestore,"parcelas",x.id)));return Promise.all(F)}throw new Error("Usuario no autenticado")})()}getParcelaById(d){var h=this;return(0,l.A)(function*(){const u=(0,s.H9)(h.firestore,`parcelas/${d}`),p=yield(0,s.x7)(u);if(p.exists()){const _=p.data();return console.log("Documento:",_),_}return console.log("No existe el documento"),null})()}actualizarParcela(d,h){var u=this;return(0,l.A)(function*(){const p=(0,s.H9)(u.firestore,`parcelas/${d}`);try{yield(0,s.mZ)(p,h),console.log("Documento actualizado correctamente")}catch(_){console.error("Error al actualizar el documento:",_)}})()}}return(C=w).\u0275fac=function(d){return new(d||C)(y.KVO(S._7),y.KVO(U.u))},C.\u0275prov=y.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),w})()},5553:(V,k,c)=>{c.d(k,{h:()=>U});var l=c(8834),s=c(7125),y=c(5528),S=c(9498);let U=(()=>{var O;class C{}return(O=C).\u0275fac=function(E){return new(E||O)},O.\u0275mod=S.$C({type:O}),O.\u0275inj=S.G2t({imports:[l.D,s.bv,y.m]}),C})()},6506:(V,k,c)=>{c.d(k,{i:()=>ee});var l=c(467),s=c(9498);function U(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}"function"==typeof SuppressedError&&SuppressedError;var C=U(function n(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var r,o,i;if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(o=r;0!=o--;)if(!n(e[o],t[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!n(e[a],t[a]))return!1}return!0}return e!=e&&t!=t});const w="__googleMapsScriptId";var E=function(n){return n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE",n}(E||{});class d{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:o,id:i=w,language:a,libraries:f=[],mapIds:g,nonce:P,region:A,retries:m=3,url:b="https://maps.googleapis.com/maps/api/js",version:T}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=o,this.id=i||w,this.language=a,this.libraries=f,this.mapIds=g,this.nonce=P,this.region=A,this.retries=m,this.url=b,this.version=T,d.instance){if(!C(this.options,d.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(d.instance.options)}`);return d.instance}d.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?E.FAILURE:this.done?E.SUCCESS:this.loading?E.LOADING:E.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(i=>!r[i]&&delete r[i]),null!==(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.maps)&&void 0!==t&&t.importLibrary||(i=>{let a,f,g,P="The Google Maps JavaScript API",A="google",m="importLibrary",b="__ib__",T=document,I=window;I=I[A]||(I[A]={});const R=I.maps||(I.maps={}),D=new Set,z=new URLSearchParams,Q=()=>a||(a=new Promise((K,H)=>function S(n,e,t,r){return new(t||(t=Promise))(function(i,a){function f(A){try{P(r.next(A))}catch(m){a(m)}}function g(A){try{P(r.throw(A))}catch(m){a(m)}}function P(A){A.done?i(A.value):function o(i){return i instanceof t?i:new t(function(a){a(i)})}(A.value).then(f,g)}P((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){var J;for(g in yield f=T.createElement("script"),f.id=this.id,z.set("libraries",[...D]+""),i)z.set(g.replace(/[A-Z]/g,N=>"_"+N[0].toLowerCase()),i[g]);z.set("callback",A+".maps."+b),f.src=this.url+"?"+z,R[b]=K,f.onerror=()=>a=H(Error(P+" could not load.")),f.nonce=this.nonce||(null===(J=T.querySelector("script[nonce]"))||void 0===J?void 0:J.nonce)||"",T.head.append(f)})));R[m]?console.warn(P+" only loads once. Ignoring:",i):R[m]=(K,...H)=>D.add(K)&&Q().then(()=>R[m](K,...H))})(r);const o=this.libraries.map(i=>this.importLibrary(i));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),i=>{const a=new ErrorEvent("error",{error:i});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}const v=(0,c(7464).F3)("Geolocation",{web:()=>c.e(2920).then(c.bind(c,2920)).then(n=>new n.GeolocationWeb)});!function _(n=!1){window.CapacitorUtils=window.CapacitorUtils||{},void 0===window.Capacitor||n?void 0!==window.cordova&&function p(n){n.CapacitorUtils.Synapse=new Proxy({},{get:(e,t)=>n.cordova.plugins[t]})}(window):function u(n){n.CapacitorUtils.Synapse=new Proxy({},{get:(e,t)=>new Proxy({},{get:(r,o)=>(i,a,f)=>{const g=n.Capacitor.Plugins[t];void 0!==g?"function"==typeof g[o]?(0,l.A)(function*(){try{const P=yield g[o](i);a(P)}catch(P){f(P)}})():f(new Error(`Method ${o} not found in Capacitor plugin ${t}`)):f(new Error(`Capacitor plugin ${t} not found`))}})})}(window)}();let F=(()=>{var n;class e{constructor(){}getGeolocalizacion(){return(0,l.A)(function*(){try{"granted"!==(yield v.checkPermissions()).location&&(yield v.requestPermissions());const o=yield v.getCurrentPosition({enableHighAccuracy:!0,timeout:1e4,maximumAge:0});return{lat:o.coords.latitude,lng:o.coords.longitude}}catch(r){return console.error("Error al obtener geolocalizaci\xf3n:",r),null}})()}}return(n=e).\u0275fac=function(r){return new(r||n)},n.\u0275prov=s.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var x=c(4033),X=c(1339);const Y=["map"];let ee=(()=>{var n;class e{constructor(r,o,i){this.geolocalizacion=r,this.parcelasService=o,this.authService=i,this.isAdd=!1,this.centroExterno=null,this.parcelaExterna=[],this.marcadorCreado=new s.bkB,this.ultimoClickLatLng=null,this.marcadores=[],this.primerMarcador=!1,this.parcelas=[]}ngOnInit(){var r=this;return(0,l.A)(function*(){yield r.cargarMapa(),r.parcelaExterna.length>0?r.dibujarParcela(r.parcelaExterna):r.authService.usuario$.subscribe(function(){var o=(0,l.A)(function*(i){i&&(r.parcelas=yield r.parcelasService.getParcelasPorUsuario(i.uid),console.log(r.parcelas),r.parcelas.forEach(a=>{r.dibujarParcela(a.vertices)}))});return function(i){return o.apply(this,arguments)}}())})()}cargarMapa(){var r=this;return new Promise(o=>{new d({apiKey:"AIzaSyC2IvUIxoYI1yJ5rR7y5qW04H6sRZ8UeDw",version:"weekly"}).load().then((0,l.A)(function*(){let a;if(a=null!=r.centroExterno?r.calcularCentroParcela(r.parcelaExterna):yield r.geolocalizacion.getGeolocalizacion(),console.log(`Centro del mapa: ${a.lat}, ${a.lng}`),r.map=new google.maps.Map(r.mapElement.nativeElement,{center:a,zoom:15,mapTypeId:"hybrid",disableDefaultUI:!0}),r.ultimoClickLatLng&&(r.marcadores[0]=new google.maps.Marker({position:r.ultimoClickLatLng,map:r.map,animation:google.maps.Animation.DROP})),r.isAdd){const f=new google.maps.Marker({position:r.ultimoClickLatLng,map:r.map});r.map.addListener("click",g=>{g.latLng&&(r.ultimoClickLatLng=g.latLng.toJSON(),f.setPosition(r.ultimoClickLatLng),console.log("Marcador creado en:",r.ultimoClickLatLng),r.marcadorCreado.emit(r.ultimoClickLatLng))})}o()}))})}dibujarParcela(r){this.map&&(console.log("Dibujando parcela con:",r),this.polygon=new google.maps.Polygon({paths:r,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,editable:!1,draggable:!1,map:this.map}))}guardarMarcador(){this.primerMarcador?this.marcadores[this.marcadores.length-1]=new google.maps.Marker({position:this.ultimoClickLatLng,map:this.map,animation:google.maps.Animation.DROP}):(this.marcadores[0]=new google.maps.Marker({position:this.ultimoClickLatLng,map:this.map,animation:google.maps.Animation.DROP}),this.marcadores[0].setPosition(this.ultimoClickLatLng),this.primerMarcador=!0)}calcularCentroParcela(r){let o=0,i=0;return r.forEach(a=>{o+=a.lat,i+=a.lng}),{lat:o/r.length,lng:i/r.length}}}return(n=e).\u0275fac=function(r){return new(r||n)(s.rXU(F),s.rXU(x.z),s.rXU(X.u))},n.\u0275cmp=s.VBU({type:n,selectors:[["app-map"]],viewQuery:function(r,o){if(1&r&&s.GBs(Y,7),2&r){let i;s.mGM(i=s.lsd())&&(o.mapElement=i.first)}},inputs:{isAdd:"isAdd",centroExterno:"centroExterno",parcelaExterna:"parcelaExterna"},outputs:{marcadorCreado:"marcadorCreado"},standalone:!1,decls:2,vars:0,consts:[["map",""],[1,"map"]],template:function(r,o){1&r&&s.nrm(0,"div",1,0)},encapsulation:2}),e})()},7464:(V,k,c)=>{c.d(k,{E_:()=>E,F3:()=>w});var l=c(467),s=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(s||{});class y extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const U=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},o=()=>null!==e?e.name:(n=>{var e,t;return null!=n&&n.androidBridge?"android":null!==(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n),f=m=>{var b;return null===(b=t.PluginHeaders)||void 0===b?void 0:b.find(T=>T.name===m)},P=new Map;return t.convertFileSrc||(t.convertFileSrc=m=>m),t.getPlatform=o,t.handleError=m=>n.console.error(m),t.isNativePlatform=()=>"web"!==o(),t.isPluginAvailable=m=>{const b=P.get(m);return!!(null!=b&&b.platforms.has(o())||f(m))},t.registerPlugin=(m,b={})=>{const T=P.get(m);if(T)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),T.proxy;const I=o(),R=f(m);let D;const z=function(){var L=(0,l.A)(function*(){return!D&&I in b?D=D="function"==typeof b[I]?yield b[I]():b[I]:null!==e&&!D&&"web"in b&&(D=D="function"==typeof b.web?yield b.web():b.web),D});return function(){return L.apply(this,arguments)}}(),K=L=>{let M;const $=(...G)=>{const B=z().then(j=>{const W=((L,M)=>{var $,G;if(!R){if(L)return null===(G=L[M])||void 0===G?void 0:G.bind(L);throw new y(`"${m}" plugin is not implemented on ${I}`,s.Unimplemented)}{const B=null==R?void 0:R.methods.find(j=>M===j.name);if(B)return"promise"===B.rtype?j=>t.nativePromise(m,M.toString(),j):(j,W)=>t.nativeCallback(m,M.toString(),j,W);if(L)return null===($=L[M])||void 0===$?void 0:$.bind(L)}})(j,L);if(W){const Z=W(...G);return M=null==Z?void 0:Z.remove,Z}throw new y(`"${m}.${L}()" is not implemented on ${I}`,s.Unimplemented)});return"addListener"===L&&(B.remove=(0,l.A)(function*(){return M()})),B};return $.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:L,writable:!1,configurable:!1}),$},H=K("addListener"),J=K("removeListener"),N=(L,M)=>{const $=H({eventName:L},M),G=function(){var j=(0,l.A)(function*(){const W=yield $;J({eventName:L,callbackId:W},M)});return function(){return j.apply(this,arguments)}}(),B=new Promise(j=>$.then(()=>j({remove:G})));return B.remove=(0,l.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield G()}),B},q=new Proxy({},{get(L,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return R?N:H;case"removeListener":return J;default:return K(M)}}});return r[m]=q,P.set(m,{name:m,proxy:q,platforms:new Set([...Object.keys(b),...R?[I]:[]])}),q},t.Exception=y,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},C=(n=>n.Capacitor=U(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),w=C.registerPlugin;class E{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){var r=this;let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(t);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),o&&this.sendRetainedArgumentsForEvent(e);const f=function(){var P=(0,l.A)(function*(){return r.removeListener(e,t)});return function(){return P.apply(this,arguments)}}();return Promise.resolve({remove:f})}removeAllListeners(){var e=this;return(0,l.A)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t,r){const o=this.listeners[e];if(o)o.forEach(i=>i(t));else if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new C.Exception(e,s.Unimplemented)}unavailable(e="not available"){return new C.Exception(e,s.Unavailable)}removeListener(e,t){var r=this;return(0,l.A)(function*(){const o=r.listeners[e];if(!o)return;const i=o.indexOf(t);r.listeners[e].splice(i,1),r.listeners[e].length||r.removeWindowListener(r.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const h=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class p extends E{getCookies(){return(0,l.A)(function*(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[o,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=u(o).trim(),i=u(i).trim(),t[o]=i}),t})()}setCookie(e){return(0,l.A)(function*(){try{const t=h(e.key),r=h(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${o}; path=${i}; ${a};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,l.A)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,l.A)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,l.A)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}w("CapacitorCookies",{web:()=>new p});const v=function(){var n=(0,l.A)(function*(e){return new Promise((t,r)=>{const o=new FileReader;o.onload=()=>{const i=o.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},o.onerror=i=>r(i),o.readAsDataURL(e)})});return function(t){return n.apply(this,arguments)}}();class Y extends E{request(e){return(0,l.A)(function*(){const t=((n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),o=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(o=>o.toLocaleLowerCase()).reduce((o,i,a)=>(o[i]=n[e[a]],o),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(o.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,f]of Object.entries(n.data||{}))i.set(a,f);t.body=i.toString()}else if(o.includes("multipart/form-data")||n.data instanceof FormData){const i=new FormData;if(n.data instanceof FormData)n.data.forEach((f,g)=>{i.append(g,f)});else for(const f of Object.keys(n.data))i.append(f,n.data[f]);t.body=i;const a=new Headers(t.headers);a.delete("content-type"),t.headers=a}else(o.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t})(e,e.webFetchExtra),r=((n,e=!0)=>n?Object.entries(n).reduce((r,o)=>{const[i,a]=o;let f,g;return Array.isArray(a)?(g="",a.forEach(P=>{f=e?encodeURIComponent(P):P,g+=`${i}=${f}&`}),g.slice(0,-1)):(f=e?encodeURIComponent(a):a,g=`${i}=${f}`),`${r}&${g}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),o=r?`${e.url}?${r}`:e.url,i=yield fetch(o,t),a=i.headers.get("content-type")||"";let g,P,{responseType:f="text"}=i.ok?e:{};switch(a.includes("application/json")&&(f="json"),f){case"arraybuffer":case"blob":P=yield i.blob(),g=yield v(P);break;case"json":g=yield i.json();break;default:g=yield i.text()}const A={};return i.headers.forEach((m,b)=>{A[b]=m}),{data:g,headers:A,status:i.status,url:i.url}})()}get(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,l.A)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}w("CapacitorHttp",{web:()=>new Y})},8505:(V,k,c)=>{c.d(k,{Z:()=>C});var l=c(467),s=c(9498),y=c(7125),S=c(9617),U=c(8834);function O(w,E){if(1&w){const d=s.RV6();s.j41(0,"ion-item",2),s.bIt("click",function(){const u=s.eBV(d).$implicit,p=s.XpG();return s.Njj(p.navigateTo(u.url))}),s.j41(1,"ion-label"),s.EFF(2),s.k0s()()}if(2&w){const d=E.$implicit;s.R7$(2),s.JRh(d.text)}}let C=(()=>{var w;class E{constructor(h,u){this.menuCtrl=h,this.authStateService=u,this.title="Men\xfa",this.items=[]}navigateTo(h){this.menuCtrl.close(this.contentId).then(()=>{window.location.href=h})}cerrarSesion(){var h=this;return(0,l.A)(function*(){yield h.authStateService.logOut()})()}}return(w=E).\u0275fac=function(h){return new(h||w)(s.rXU(y._t),s.rXU(S.T))},w.\u0275cmp=s.VBU({type:w,selectors:[["app-menu"]],inputs:{contentId:"contentId",title:"title",items:"items"},standalone:!1,decls:11,vars:4,consts:[[3,"contentId","menuId"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"]],template:function(h,u){1&h&&(s.j41(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),s.EFF(4),s.k0s()()(),s.j41(5,"ion-content")(6,"ion-list"),s.DNE(7,O,3,1,"ion-item",1),s.j41(8,"ion-item",2),s.bIt("click",function(){return u.cerrarSesion()}),s.j41(9,"ion-label"),s.EFF(10,"Cerrar sesi\xf3n"),s.k0s()()()()()),2&h&&(s.Y8G("contentId",u.contentId)("menuId",u.contentId),s.R7$(4),s.JRh(u.title),s.R7$(3),s.Y8G("ngForOf",u.items))},dependencies:[U.G,y.W9,y.eU,y.uz,y.he,y.nf,y.oS,y.BC,y.ai],encapsulation:2}),E})()}}]);