"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9483],{9483:(W,p,l)=>{l.r(p),l.d(p,{ParcelasPageModule:()=>J});var c=l(8834),d=l(4341),r=l(7125),_=l(5528),m=l(467),n=l(9498),g=l(4033),f=l(1339),u=l(8505),j=l(4097);const C=()=>({text:"A\xf1adir parcela",url:"/add-parcela"}),b=()=>({text:"Finanzas",url:"/finanzas"}),M=(i,s)=>[i,s];function P(i,s){if(1&i&&(n.qex(0),n.nrm(1,"app-lista-parcelas",7),n.bVm()),2&i){const e=n.XpG();n.R7$(),n.Y8G("parcelas",e.parcelas)}}function G(i,s){1&i&&(n.j41(0,"div",8),n.nrm(1,"ion-icon",9),n.j41(2,"h2"),n.EFF(3,"No tienes parcelas registradas"),n.k0s(),n.j41(4,"p"),n.EFF(5,"Empieza a\xf1adiendo tu primera parcela para comenzar a gestionar tu campo."),n.k0s(),n.j41(6,"ion-button",10),n.EFF(7,"A\xf1adir Parcela"),n.k0s()())}let k=(()=>{var i;class s{constructor(t,a){this.parcelasService=t,this.authService=a}ngOnInit(){var t=this;return(0,m.A)(function*(){const a=yield new Promise(o=>{const L=t.authService.usuario$.subscribe(h=>{h&&(o(h),L.unsubscribe())})});if(!a)throw new Error("Usuario no autenticado");t.parcelas=yield t.parcelasService.getParcelasPorUsuario(null==a?void 0:a.uid)})()}}return(i=s).\u0275fac=function(t){return new(t||i)(n.rXU(g.z),n.rXU(f.u))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-parcelas"]],standalone:!1,decls:12,vars:10,consts:[["noParcelas",""],[3,"contentId","title","items"],["id","parcelas-content",1,"ion-page"],["slot","start"],["menu","parcelas-content"],[1,"ion-padding"],[4,"ngIf","ngIfElse"],[3,"parcelas"],[1,"empty-state"],["name","leaf-outline","size","large"],["color","primary","routerLink","/add-parcela"]],template:function(t,a){if(1&t&&(n.nrm(0,"app-menu",1),n.j41(1,"div",2)(2,"ion-header")(3,"ion-toolbar")(4,"ion-buttons",3),n.nrm(5,"ion-menu-button",4),n.k0s(),n.j41(6,"ion-title"),n.EFF(7,"Parcelas"),n.k0s()()(),n.j41(8,"ion-content",5),n.DNE(9,P,2,1,"ng-container",6)(10,G,8,0,"ng-template",null,0,n.C5r),n.k0s()()),2&t){const o=n.sdS(11);n.Y8G("contentId","parcelas-content")("title","Parcelas")("items",n.l_i(7,M,n.lJ4(5,C),n.lJ4(6,b))),n.R7$(9),n.Y8G("ngIf",(null==a.parcelas?null:a.parcelas.length)>0)("ngIfElse",o)}},dependencies:[c.I,r.Jm,r.QW,r.W9,r.eU,r.iq,r.MC,r.BC,r.ai,r.N7,_.R,u.Z,j.K],encapsulation:2}),s})();var F=l(5553),x=l(9602);const R=()=>({text:"Volver",url:"/parcelas"}),V=i=>[i];function E(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-datetime",23),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(4);return n.DH7(o.parcela.fecha_recoleccion,a)||(o.parcela.fecha_recoleccion=a),n.Njj(a)}),n.k0s()}if(2&i){const e=n.XpG(4);n.R50("ngModel",e.parcela.fecha_recoleccion)}}function A(i,s){if(1&i&&(n.j41(0,"ion-item")(1,"ion-label",7),n.EFF(2,"Fecha de recoleccion"),n.k0s(),n.nrm(3,"ion-datetime-button",21),n.j41(4,"ion-modal",22),n.DNE(5,E,1,1,"ng-template"),n.k0s()()),2&i){const e=n.XpG(3);n.R7$(3),n.Y8G("disabled",!e.editable),n.R7$(),n.Y8G("keepContentsMounted",!0)}}function v(i,s){if(1&i){const e=n.RV6();n.qex(0),n.j41(1,"ion-list-header",6),n.EFF(2,"Detalles Agr\xedcolas"),n.k0s(),n.j41(3,"ion-item")(4,"ion-label",7),n.EFF(5,"Finalidad"),n.k0s(),n.j41(6,"ion-select",18),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.finalidad,a)||(o.parcela.finalidad=a),n.Njj(a)}),n.j41(7,"ion-select-option",19),n.EFF(8,"Perenne "),n.k0s(),n.j41(9,"ion-select-option",20),n.EFF(10,"Temporal"),n.k0s()()(),n.DNE(11,A,6,2,"ion-item"),n.j41(12,"ion-list-header",9),n.EFF(13,"Fertilizaci\xf3n"),n.k0s(),n.j41(14,"ion-item",10)(15,"div",11)(16,"div",12)(17,"ion-label",7),n.EFF(18,"Veces/A\xf1o"),n.k0s(),n.j41(19,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.fertilizacion.veces_ano,a)||(o.parcela.gastosFijos.fertilizacion.veces_ano=a),n.Njj(a)}),n.k0s()(),n.j41(20,"div",12)(21,"ion-label",7),n.EFF(22,"\u20ac/Vez"),n.k0s(),n.j41(23,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.fertilizacion.precio_vez,a)||(o.parcela.gastosFijos.fertilizacion.precio_vez=a),n.Njj(a)}),n.k0s()()()(),n.j41(24,"ion-list-header",9),n.EFF(25,"Riego"),n.k0s(),n.j41(26,"ion-item",10)(27,"div",11)(28,"div",12)(29,"ion-label",7),n.EFF(30,"Veces/Sem"),n.k0s(),n.j41(31,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.riego.veces_semana,a)||(o.parcela.gastosFijos.riego.veces_semana=a),n.Njj(a)}),n.k0s()(),n.j41(32,"div",12)(33,"ion-label",7),n.EFF(34,"L/Vez"),n.k0s(),n.j41(35,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.riego.litrosPorVez,a)||(o.parcela.gastosFijos.riego.litrosPorVez=a),n.Njj(a)}),n.k0s()(),n.j41(36,"div",12)(37,"ion-label",7),n.EFF(38,"\u20ac/Litro"),n.k0s(),n.j41(39,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.riego.precio_litro,a)||(o.parcela.gastosFijos.riego.precio_litro=a),n.Njj(a)}),n.k0s()()()(),n.bVm()}if(2&i){const e=n.XpG(2);n.R7$(6),n.R50("ngModel",e.parcela.finalidad),n.Y8G("disabled",!e.editable),n.R7$(5),n.vxM("temporal"==e.parcela.finalidad?11:-1),n.R7$(8),n.R50("ngModel",e.parcela.gastosFijos.fertilizacion.veces_ano),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.fertilizacion.precio_vez),n.Y8G("readonly",!e.editable),n.R7$(8),n.R50("ngModel",e.parcela.gastosFijos.riego.veces_semana),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.riego.litrosPorVez),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.riego.precio_litro),n.Y8G("readonly",!e.editable)}}function I(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-datetime",23),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(4);return n.DH7(o.parcela.fecha_sacrificio,a)||(o.parcela.fecha_sacrificio=a),n.Njj(a)}),n.k0s()}if(2&i){const e=n.XpG(4);n.R50("ngModel",e.parcela.fecha_sacrificio)}}function y(i,s){if(1&i&&(n.j41(0,"ion-item")(1,"ion-label",7),n.EFF(2,"Fecha de sacrificio"),n.k0s(),n.nrm(3,"ion-datetime-button",21),n.j41(4,"ion-modal",22),n.DNE(5,I,1,1,"ng-template"),n.k0s()()),2&i){const e=n.XpG(3);n.R7$(3),n.Y8G("disabled",!e.editable),n.R7$(),n.Y8G("keepContentsMounted",!0)}}function D(i,s){if(1&i){const e=n.RV6();n.qex(0),n.j41(1,"ion-list-header",6),n.EFF(2,"Detalles Ganaderos"),n.k0s(),n.j41(3,"ion-item")(4,"ion-label",7),n.EFF(5,"Finalidad"),n.k0s(),n.j41(6,"ion-select",18),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.finalidad,a)||(o.parcela.finalidad=a),n.Njj(a)}),n.j41(7,"ion-select-option",24),n.EFF(8,"Sacrificio"),n.k0s(),n.j41(9,"ion-select-option",25),n.EFF(10,"Producci\xf3n continua"),n.k0s()()(),n.DNE(11,y,6,2,"ion-item"),n.j41(12,"ion-item")(13,"ion-label",7),n.EFF(14,"Cabezas ganado"),n.k0s(),n.j41(15,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.cabezasGanado,a)||(o.parcela.cabezasGanado=a),n.Njj(a)}),n.k0s()(),n.j41(16,"ion-list-header",9),n.EFF(17,"Alimentaci\xf3n"),n.k0s(),n.j41(18,"ion-item",10)(19,"div",11)(20,"div",12)(21,"ion-label",7),n.EFF(22,"Veces/Sem"),n.k0s(),n.j41(23,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.alimentacion.veces_semana,a)||(o.parcela.gastosFijos.alimentacion.veces_semana=a),n.Njj(a)}),n.k0s()(),n.j41(24,"div",12)(25,"ion-label",7),n.EFF(26,"Kg/Vez"),n.k0s(),n.j41(27,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.alimentacion.kilosPorVez,a)||(o.parcela.gastosFijos.alimentacion.kilosPorVez=a),n.Njj(a)}),n.k0s()(),n.j41(28,"div",12)(29,"ion-label",7),n.EFF(30,"\u20ac/Kg"),n.k0s(),n.j41(31,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.alimentacion.precio_kilo,a)||(o.parcela.gastosFijos.alimentacion.precio_kilo=a),n.Njj(a)}),n.k0s()()()(),n.j41(32,"ion-list-header",9),n.EFF(33,"Hidrataci\xf3n"),n.k0s(),n.j41(34,"ion-item",10)(35,"div",11)(36,"div",12)(37,"ion-label",7),n.EFF(38,"Veces/Sem"),n.k0s(),n.j41(39,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.hidratacion.veces_semana,a)||(o.parcela.gastosFijos.hidratacion.veces_semana=a),n.Njj(a)}),n.k0s()(),n.j41(40,"div",12)(41,"ion-label",7),n.EFF(42,"L/Vez"),n.k0s(),n.j41(43,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.hidratacion.litrosPorVez,a)||(o.parcela.gastosFijos.hidratacion.litrosPorVez=a),n.Njj(a)}),n.k0s()(),n.j41(44,"div",12)(45,"ion-label",7),n.EFF(46,"\u20ac/Litro"),n.k0s(),n.j41(47,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.hidratacion.precio_litro,a)||(o.parcela.gastosFijos.hidratacion.precio_litro=a),n.Njj(a)}),n.k0s()()()(),n.j41(48,"ion-list-header",9),n.EFF(49,"Veterinario"),n.k0s(),n.j41(50,"ion-item",10)(51,"div",11)(52,"div",12)(53,"ion-label",7),n.EFF(54,"Veces/A\xf1o"),n.k0s(),n.j41(55,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.veterinario.veces_ano,a)||(o.parcela.gastosFijos.veterinario.veces_ano=a),n.Njj(a)}),n.k0s()(),n.j41(56,"div",12)(57,"ion-label",7),n.EFF(58,"\u20ac/Vez"),n.k0s(),n.j41(59,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.parcela.gastosFijos.veterinario.precio_vez,a)||(o.parcela.gastosFijos.veterinario.precio_vez=a),n.Njj(a)}),n.k0s()()()(),n.bVm()}if(2&i){const e=n.XpG(2);n.R7$(6),n.R50("ngModel",e.parcela.finalidad),n.Y8G("disabled",!e.editable),n.R7$(5),n.vxM("sacrificio"===e.parcela.finalidad?11:-1),n.R7$(4),n.R50("ngModel",e.parcela.cabezasGanado),n.Y8G("readonly",!e.editable),n.R7$(8),n.R50("ngModel",e.parcela.gastosFijos.alimentacion.veces_semana),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.alimentacion.kilosPorVez),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.alimentacion.precio_kilo),n.Y8G("readonly",!e.editable),n.R7$(8),n.R50("ngModel",e.parcela.gastosFijos.hidratacion.veces_semana),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.hidratacion.litrosPorVez),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.hidratacion.precio_litro),n.Y8G("readonly",!e.editable),n.R7$(8),n.R50("ngModel",e.parcela.gastosFijos.veterinario.veces_ano),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.veterinario.precio_vez),n.Y8G("readonly",!e.editable)}}function T(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-item")(1,"ion-label")(2,"h2"),n.EFF(3),n.k0s(),n.j41(4,"p"),n.EFF(5),n.nI1(6,"number"),n.k0s(),n.j41(7,"p"),n.EFF(8),n.nI1(9,"date"),n.k0s()(),n.j41(10,"ion-button",28),n.bIt("click",function(){const a=n.eBV(e).index,o=n.XpG(3);return n.Njj(o.eliminarGastoVariable(a))}),n.nrm(11,"ion-icon",29),n.k0s()()}if(2&i){const e=s.$implicit;n.R7$(3),n.JRh(e.tipo||"Sin tipo"),n.R7$(2),n.SpI("Importe: ",n.i5U(6,3,e.importe,"1.2-2"),"\u20ac"),n.R7$(3),n.SpI("Fecha: ",n.i5U(9,6,e.fecha,"dd/MM/yyyy"),"")}}function z(i,s){if(1&i&&(n.j41(0,"ion-list")(1,"ion-list-header",26),n.EFF(2," Gastos Variables "),n.k0s(),n.DNE(3,T,12,9,"ion-item",27),n.k0s()),2&i){const e=n.XpG(2);n.R7$(3),n.Y8G("ngForOf",e.parcela.gastosVariables)}}function N(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-button",30),n.bIt("click",function(){n.eBV(e);const a=n.XpG(2);return n.Njj(a.cambiarModo())}),n.nrm(1,"ion-icon",31),n.EFF(2," Editar "),n.k0s()}}function Y(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-button",32),n.bIt("click",function(){n.eBV(e);const a=n.XpG(2);return n.Njj(a.anadirGastosVariables())}),n.nrm(1,"ion-icon",33),n.EFF(2," A\xf1adir gastos variables "),n.k0s()}}function X(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-button",34),n.bIt("click",function(){n.eBV(e);const a=n.XpG(2);return n.Njj(a.guardarCambios())}),n.nrm(1,"ion-icon",35),n.EFF(2," Guardar "),n.k0s()}}function B(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),n.EFF(3),n.k0s(),n.j41(4,"ion-card-subtitle"),n.EFF(5),n.nI1(6,"titlecase"),n.k0s()(),n.j41(7,"ion-card-content")(8,"ion-list-header",6),n.EFF(9,"Datos Generales"),n.k0s(),n.j41(10,"ion-item")(11,"ion-label",7),n.EFF(12,"Especie"),n.k0s(),n.j41(13,"ion-input",8),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG();return n.DH7(o.parcela.especie,a)||(o.parcela.especie=a),n.Njj(a)}),n.k0s()(),n.DNE(14,v,40,13,"ng-container",4)(15,D,60,21,"ng-container",4),n.j41(16,"ion-list-header",9),n.EFF(17,"Desparasitaci\xf3n"),n.k0s(),n.j41(18,"ion-item",10)(19,"div",11)(20,"div",12)(21,"ion-label",7),n.EFF(22,"Veces/A\xf1o"),n.k0s(),n.j41(23,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG();return n.DH7(o.parcela.gastosFijos.desparasitacion.veces_ano,a)||(o.parcela.gastosFijos.desparasitacion.veces_ano=a),n.Njj(a)}),n.k0s()(),n.j41(24,"div",12)(25,"ion-label",7),n.EFF(26,"\u20ac/Vez"),n.k0s(),n.j41(27,"ion-input",13),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG();return n.DH7(o.parcela.gastosFijos.desparasitacion.precio_vez,a)||(o.parcela.gastosFijos.desparasitacion.precio_vez=a),n.Njj(a)}),n.k0s()()()(),n.DNE(28,z,4,1,"ion-list",4),n.j41(29,"div",14),n.DNE(30,N,3,0,"ion-button",15)(31,Y,3,0,"ion-button",16)(32,X,3,0,"ion-button",17),n.k0s()()()}if(2&i){const e=n.XpG();n.R7$(3),n.JRh(e.parcela.name),n.R7$(2),n.JRh(n.bMT(6,14,e.parcela.tipoExplotacion)),n.R7$(8),n.R50("ngModel",e.parcela.especie),n.Y8G("readonly",!e.editable),n.R7$(),n.Y8G("ngIf","agricola"===e.parcela.tipoExplotacion),n.R7$(),n.Y8G("ngIf","ganadera"===e.parcela.tipoExplotacion),n.R7$(8),n.R50("ngModel",e.parcela.gastosFijos.desparasitacion.veces_ano),n.Y8G("readonly",!e.editable),n.R7$(4),n.R50("ngModel",e.parcela.gastosFijos.desparasitacion.precio_vez),n.Y8G("readonly",!e.editable),n.R7$(),n.Y8G("ngIf",e.parcela.gastosVariables&&e.parcela.gastosVariables.length>0),n.R7$(2),n.Y8G("ngIf",!e.editable),n.R7$(),n.Y8G("ngIf",!e.editable),n.R7$(),n.Y8G("ngIf",e.editable)}}function H(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-datetime",42),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG(2);return n.DH7(o.nuevoGasto.fecha,a)||(o.nuevoGasto.fecha=a),n.Njj(a)}),n.k0s()}if(2&i){const e=n.XpG(2);n.R50("ngModel",e.nuevoGasto.fecha)}}function O(i,s){if(1&i){const e=n.RV6();n.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),n.EFF(3,"A\xf1adir Gasto Variable"),n.k0s(),n.j41(4,"ion-buttons",36)(5,"ion-button",37),n.bIt("click",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.cerrarModal())}),n.EFF(6,"Cerrar"),n.k0s()()()(),n.j41(7,"ion-content",38)(8,"ion-item")(9,"ion-label",7),n.EFF(10,"Tipo de gasto"),n.k0s(),n.j41(11,"ion-input",39),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG();return n.DH7(o.nuevoGasto.tipo,a)||(o.nuevoGasto.tipo=a),n.Njj(a)}),n.k0s()(),n.j41(12,"ion-item")(13,"ion-label",7),n.EFF(14,"Importe (\u20ac)"),n.k0s(),n.j41(15,"ion-input",40),n.mxI("ngModelChange",function(a){n.eBV(e);const o=n.XpG();return n.DH7(o.nuevoGasto.importe,a)||(o.nuevoGasto.importe=a),n.Njj(a)}),n.k0s()(),n.j41(16,"ion-item")(17,"ion-label",7),n.EFF(18,"Fecha del gasto"),n.k0s(),n.nrm(19,"ion-datetime-button",41),n.j41(20,"ion-modal",22),n.DNE(21,H,1,1,"ng-template"),n.k0s()(),n.j41(22,"ion-button",34),n.bIt("click",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.guardarGastoVariable())}),n.EFF(23," Guardar gasto "),n.k0s()()}if(2&i){const e=n.XpG();n.R7$(11),n.R50("ngModel",e.nuevoGasto.tipo),n.R7$(4),n.R50("ngModel",e.nuevoGasto.importe),n.R7$(5),n.Y8G("keepContentsMounted",!0)}}const S=[{path:"",component:k},{path:"administrar/:id",component:(()=>{var i;class s{constructor(t,a){this.route=t,this.parcelasService=a,this.editable=!1,this.id="",this.mostrarModalGasto=!1,this.nuevoGasto={tipo:"",importe:null,fecha:""}}ngOnInit(){var t=this;return(0,m.A)(function*(){t.id=t.route.snapshot.paramMap.get("id"),t.id&&(t.parcela=yield t.parcelasService.getParcelaById(t.id)),console.log(t.parcela)})()}cambiarModo(){this.editable=!this.editable}guardarCambios(){this.editable=!1,console.log("Parcela guardada:",this.parcela),this.id&&this.parcelasService.actualizarParcela(this.id,this.parcela)}anadirGastosVariables(){this.nuevoGasto={tipo:"",importe:null,fecha:(new Date).toISOString()},this.mostrarModalGasto=!0}cerrarModal(){this.mostrarModalGasto=!1}guardarGastoVariable(){const{tipo:t,importe:a,fecha:o}=this.nuevoGasto;t&&null!=a&&o?(Array.isArray(this.parcela.gastosVariables)||(this.parcela.gastosVariables=[]),this.parcela.gastosVariables.push({tipo:t,importe:a,fecha:o}),this.mostrarModalGasto=!1,this.id&&this.parcelasService.actualizarParcela(this.id,this.parcela),console.log("Gasto a\xf1adido:",this.parcela.gastosVariables)):alert("Por favor, completa todos los campos")}eliminarGastoVariable(t){this.parcela.gastosVariables.splice(t,1),this.id&&this.parcelasService.actualizarParcela(this.id,this.parcela)}}return(i=s).\u0275fac=function(t){return new(t||i)(n.rXU(x.x),n.rXU(g.z))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-administrador-parcelas"]],decls:12,vars:10,consts:[[3,"contentId","title","items"],["id","admin-parcela-content",1,"ion-page"],["slot","start"],["menu","admin-parcela-content"],[4,"ngIf"],[3,"didDismiss","isOpen","backdropDismiss"],["color","light"],["position","stacked"],[3,"ngModelChange","ngModel","readonly"],["color","medium"],[1,"compact-item"],[1,"row-container"],[1,"input-group"],["type","number",3,"ngModelChange","ngModel","readonly"],[1,"buttons-container"],["shape","round","color","primary",3,"click",4,"ngIf"],["shape","round","color","secondary",3,"click",4,"ngIf"],["shape","round","color","success",3,"click",4,"ngIf"],["interface","popover","placeholder","Selecciona finalidad",3,"ngModelChange","ngModel","disabled"],["value","perenne "],["value","temporal"],["datetime","datetime",2,"margin","10px",3,"disabled"],[3,"keepContentsMounted"],["id","datetime","presentation","date","display-format","DD/MM/YYYY",3,"ngModelChange","ngModel"],["value","sacrificio"],["value","produccion_continua"],["color","primary"],[4,"ngFor","ngForOf"],["fill","clear","color","danger",3,"click"],["slot","icon-only","name","trash"],["shape","round","color","primary",3,"click"],["name","create-outline"],["shape","round","color","secondary",3,"click"],["name","bag-add-outline"],["shape","round","color","success",3,"click"],["name","save-outline"],["slot","end"],[3,"click"],[1,"ion-padding"],["placeholder","Ej: maquinaria",3,"ngModelChange","ngModel"],["type","number","placeholder","Ej: 200",3,"ngModelChange","ngModel"],["datetime","gastoFecha"],["id","gastoFecha","presentation","date","display-format","DD/MM/YYYY",3,"ngModelChange","ngModel"]],template:function(t,a){1&t&&(n.nrm(0,"app-menu",0),n.j41(1,"div",1)(2,"ion-header")(3,"ion-toolbar")(4,"ion-buttons",2),n.nrm(5,"ion-menu-button",3),n.k0s(),n.j41(6,"ion-title"),n.EFF(7),n.k0s()()(),n.j41(8,"ion-content"),n.DNE(9,B,33,16,"ion-card",4),n.j41(10,"ion-modal",5),n.bIt("didDismiss",function(){return a.cerrarModal()}),n.DNE(11,O,24,3,"ng-template"),n.k0s()()()),2&t&&(n.Y8G("contentId","admin-parcela-content")("title","Parcela "+a.id)("items",n.eq3(8,V,n.lJ4(7,R))),n.R7$(7),n.SpI("Parcela ",a.id,""),n.R7$(2),n.Y8G("ngIf",a.parcela),n.R7$(),n.Y8G("isOpen",a.mostrarModalGasto)("backdropDismiss",!1))},dependencies:[c.D,c.G,c.I,c.a3,c.a7,c.X,r.bv,r.Jm,r.QW,r.b_,r.I9,r.ME,r.HW,r.tN,r.W9,r.A9,r.K4,r.eU,r.iq,r.$w,r.uz,r.he,r.nf,r.AF,r.MC,r.Nm,r.Ip,r.BC,r.ai,r.Sb,r.su,r.Je,r.Gw,F.h,u.Z,d.YN,d.BC,d.vS],styles:['@charset "UTF-8";.row-container[_ngcontent-%COMP%]{display:flex;gap:16px;width:100%;margin-top:8px}.compact-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;--min-height: auto;margin-bottom:16px}.input-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:0}.input-group[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-primary);margin-bottom:4px}.input-group[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{width:100%;background:var(--ion-color-light);border-radius:8px;--padding-start: 12px;--padding-end: 12px;--padding-top: 8px;--padding-bottom: 8px}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;margin-bottom:16px}ion-item[_ngcontent-%COMP%]   ion-label[position=stacked][_ngcontent-%COMP%]{margin-bottom:4px;font-size:14px;color:var(--ion-color-primary)}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:8px;--padding-start: 12px;--padding-end: 12px;--padding-top: 8px;--padding-bottom: 8px}.buttons-container[_ngcontent-%COMP%]{margin-top:24px}ion-list-header[_ngcontent-%COMP%]{font-weight:700;margin-top:16px;margin-bottom:8px}']}),s})()}];let U=(()=>{var i;class s{}return(i=s).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[_.m.forChild(S),_.m]}),s})(),J=(()=>{var i;class s{}return(i=s).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[c.D,d.YN,r.bv,U,F.h,j.K]}),s})()}}]);